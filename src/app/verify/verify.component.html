<div class="verify-wrapper">
  <div class="verify-card" *ngIf="docInfo; else errorBlock">
    <div class="status-header success">
      <div class="icon-circle">✓</div>
      <h1>Документ подтвержден</h1>
      <p class="org-name">AlmaLab Medical Systems</p>
    </div>

    <div class="doc-details">
      <div class="detail-row">
        <span class="label">Файл:</span>
        <span class="value">{{ docInfo.filename }}</span>
      </div>
      <div class="detail-row">
        <span class="label">ID системы:</span>
        <span class="value">#{{ docInfo.id }}</span>
      </div>
      <div class="detail-row">
        <span class="label">Статус:</span>
        <span class="value">{{ docInfo.status }}</span>
      </div>
    </div>

    <div class="signature-timeline">
      <h3>История подписей</h3>

      <div *ngFor="let sig of docInfo.signatures; let i = index" class="timeline-item">
        <div class="dot" [ngClass]="i === 0 ? 'green' : 'blue'"></div>

        <div class="time-content">
          <p class="signer">
            <span *ngIf="sig.signerRole === 'USER'">Специалист </span>
            <span *ngIf="sig.signerRole === 'ADMIN'">Заведующая лабораторией </span>
            <span *ngIf="sig.signerRole === 'SUPERADMIN'">Руководитель организации </span>

            <strong>{{ sig.signerFullName }}</strong>
          </p>

          <p class="action">Подписано</p>
          <p class="timestamp">{{ sig.signedAt | date:'dd.MM.yyyy HH:mm' }}</p>
        </div>
      </div>
    </div>
  </div>

  <ng-template #errorBlock>
    <div class="verify-card error-card">
      <div class="status-header fail">
        <div class="icon-circle">!</div>
        <h1>Ошибка проверки</h1>
        <p>Документ не найден или еще загружается...</p>
      </div>
    </div>
  </ng-template>
</div>
